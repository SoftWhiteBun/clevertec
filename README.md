# Тестовое задание Clevertec
## Консольное приложение, реализующее функционал кассового аппарата
Данный проект позволяет формировать чек по операции покупки товаров. Приложение  
поддерживает одновременное проведение операции по нескольким товарным позициям,  
а так же применение скидочных карт.

### Структура feature/entry-core
В основе приложения лежат следующие пакеты:
- ### Exception
Содержит базовый класс `CustomException`, а так же расширяющие его дополнительные классы,  
реализующие специфические для приложения исключения.  
Примеры возможных сообщений при возникновении исключительных ситуаций представлены в  
Таблице 1.  
Таблица 1.

| Сообщение/Исключение | Ситуация |  
| --------------------- | ---------------------------- |  
| BAD_REQUEST | Неверные входные данные |  
| NOT_ENOUGH_MONEY | Недостаточно средств на счете |  
| INTERNAL_SERVER_ERROR | Ошибка чтения данных, другое |  


- ### Factory
Содержит фабрику для создания массивов базовых моделей из файла csv.  
К базовым моделям относятся `Product` и `DiscountCard`.


- ### Models
В данном пакете хранятся базовые модели `Product` и `DiscountCard`,  
а также другие модели объектов программы.  
Класс `Receipt` описывает модель результирующего чека.
Модель `ReceiptItem` расширяет `Product`,
и реализует понятие товарной позиции в чеке.  
`OperationInfo` - это данные о транзакции, получаемые кассовым аппаратом извне.

- ### Service
В пакете содержатся такие сервисы, как парсер агрументов коммандной строки,  
а так же классы, реализующие чтение и запись данных в csv файл.

- ### Utils
Содержит вспомогательные классы для работы с диксконтными картами и товарными позициями в чеке.

---

### Способы запуска
Для запуска необходимо выполнить команду вида:
```sh 
java -cp src ./src/main/java/ru/clevertec/check/CheckRunner.java [ product id ]-[ product quantity ]  
discountCard=[ card number ] balanceDebitCard=[ card balance ]   
```
Параметры [ product id ]-[ product quantity ] и balanceDebitCard=[ card balance ]  
являются обязательными. Продуктовых пар может быть несколько.
Пример корректной строки запуска:
```sh 
java -cp src ./src/main/java/ru/clevertec/check/CheckRunner.java 5-3 2-1  
discountCard=2222 balanceDebitCard=1783.95  
```

Также проект корректно запускается в Intellij Idea